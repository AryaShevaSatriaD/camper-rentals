import{u as v,b as t,r as c,a as m,c as x,f as C,j as a,C as j,i as L,d as A,B as F,l as P,h as _}from"./index-5ba1751b.js";import{s as w,a as M,b as D,c as E,d as S,e as W,f as B,F as N,C as R,B as b,g as I}from"./Filter-e0c37947.js";import"./useLocation-299579db.js";const k="_filterCardsWrapper_idv43_1",O="_catalog_idv43_7",g={filterCardsWrapper:k,catalog:O},z=()=>{const s=v(),l=t(w),o=t(M),n=t(D),r=t(E),f=t(S),h=t(W),p=t(B),i=c.useRef(null);c.useEffect(()=>{s(m()),s(x())},[s]),c.useEffect(()=>{s(C(l)).unwrap().then().catch(d=>console.error(d))},[s,l]);const u=()=>{s(L()),(e=>{console.log("scroll"),setTimeout(()=>{e.current&&I(e)},500)})(i),r.length>0&&s(A({...f,filtersPage:n+1})).unwrap().then(e=>{F.success("Success filtering pagination"),e.length<P&&s(_())}).catch(e=>console.log(e==null?void 0:e.message))};return a.jsx("section",{className:g.catalog,children:a.jsx(j,{className:"catalog-page-container",children:a.jsxs("div",{className:g.filterCardsWrapper,children:[a.jsx(N,{filtersPage:n}),a.jsxs("div",{children:[a.jsx(R,{adverts:r.length>0?r:o,advertsListRef:i}),h&&!p&&(r.length>0||o.length>0)&&a.jsx(b,{onClick:u,children:"Load more"})]})]})})})};export{z as default};
